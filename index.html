<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 10A Science Exhibition Review</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .project-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        
        .project-card:hover {
            transform: translateY(-5px);
        }
        
        .project-number {
            display: inline-block;
            background: #2575fc;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .project-title {
            font-size: 1.5rem;
            color: #2575fc;
            margin-bottom: 15px;
        }
        
        .project-creators {
            font-style: italic;
            margin-bottom: 20px;
            color: #666;
            padding-left: 15px;
            border-left: 3px solid #6a11cb;
        }
        
        .review-section {
            margin-top: 20px;
        }
        
        .reviewer-name {
            margin-bottom: 15px;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .rating {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        
        .rating-option {
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
            flex: 1;
            margin: 0 5px;
        }
        
        .rating-option:hover {
            background-color: #f0f5ff;
        }
        
        .rating-option.selected {
            background-color: #2575fc;
            color: white;
        }
        
        .rating-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .rating-label {
            font-size: 0.8rem;
        }
        
        button {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto;
            width: 200px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .thank-you {
            text-align: center;
            padding: 50px 20px;
            display: none;
        }
        
        .thank-you h2 {
            color: #2575fc;
            margin-bottom: 20px;
        }
        
        .admin-section {
            margin-top: 40px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        
        .admin-section h3 {
            color: #2575fc;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .admin-login {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .admin-content {
            display: none;
        }
        
        .reviews-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            background: #f9f9f9;
        }
        
        .review-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .review-item:last-child {
            border-bottom: none;
        }
        
        .review-project {
            font-weight: bold;
            color: #2575fc;
        }
        
        .progress-container {
            margin: 20px 0;
            text-align: center;
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            font-size: 0.9rem;
            color: #666;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }
        
        .review-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .review-option-btn {
            padding: 15px 25px;
            background: white;
            border: 2px solid #2575fc;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-align: center;
            flex: 1;
            max-width: 300px;
        }
        
        .review-option-btn:hover {
            background: #f0f5ff;
        }
        
        .review-option-btn.selected {
            background: #2575fc;
            color: white;
        }
        
        .collective-review {
            display: none;
        }
        
        .project-rating-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .project-name {
            flex: 2;
        }
        
        .collective-rating {
            flex: 1;
            display: flex;
            justify-content: space-between;
        }
        
        .collective-rating-option {
            text-align: center;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
            flex: 1;
            margin: 0 2px;
        }
        
        .collective-rating-option:hover {
            background-color: #f0f5ff;
        }
        
        .collective-rating-option.selected {
            background-color: #2575fc;
            color: white;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2575fc;
            margin: 10px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .quick-all-review {
            display: none;
        }
        
        .rating-scale-10 {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            margin: 20px 0;
        }
        
        .rating-10-option {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: #f0f0f0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .rating-10-option:hover {
            background: #e0e0e0;
        }
        
        .rating-10-option.selected {
            background: #2575fc;
            color: white;
        }
        
        .project-quick-rating {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .project-quick-name {
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Class 10A Science Exhibition</h1>
            <p>Share your feedback on our innovative projects</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-text">Review Progress: <span id="progress-text">0/10</span></div>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
        </div>
        
        <!-- Reviewer Name Section -->
        <div class="project-card" id="reviewer-section">
            <h2 class="project-title">Welcome!</h2>
            <p>Please enter your name to begin reviewing our projects:</p>
            <div class="review-section">
                <div class="reviewer-name">
                    <input type="text" id="reviewer-name" placeholder="Enter your full name">
                </div>
                
                <div class="review-options">
                    <div class="review-option-btn" id="detailed-review-btn">
                        <h3>Detailed Review</h3>
                        <p>Rate each project individually</p>
                    </div>
                    <div class="review-option-btn" id="collective-review-btn">
                        <h3>Quick Review</h3>
                        <p>Rate all projects at once</p>
                    </div>
                    <div class="review-option-btn" id="quick-all-review-btn">
                        <h3>All Projects at Once</h3>
                        <p>Rate all projects on a 1-10 scale</p>
                    </div>
                </div>
                
                <button id="start-review" style="display: none;">Start Review</button>
            </div>
        </div>
        
        <!-- Quick All Review Section -->
        <div class="project-card quick-all-review" id="quick-all-review">
            <h2 class="project-title">Rate All Projects</h2>
            <p>Please rate all projects on a scale of 1 to 10:</p>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Smart Irrigation System</div>
                <div>Created by: Aritha, Advika, Ambritha</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Gesture Control Water Gun</div>
                <div>Created by: Devansh, Bhargav</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Smart Parking System</div>
                <div>Created by: Arnabjeet, Pranyjyoti, Mihir, Devansh</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">River Cleaning Car</div>
                <div>Created by: Keshivi, Iskhika</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Earth Revolution</div>
                <div>Created by: Pranyjyoti</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Carbon Emission to Ink Converter</div>
                <div>Created by: Anusha</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Rainwater Harvesting</div>
                <div>Created by: Advika, Rupsha, Rajashree, Samridhi</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Plasma Canon</div>
                <div>Created by: Yogiraj, Niloy, Shaurav</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Nerve Cell</div>
                <div>Created by: Richa, Moli, Krishnagi, Archana</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <div class="project-quick-rating">
                <div class="project-quick-name">Cultural and Indigenous Tribes Exhibition</div>
                <div class="rating-scale-10">
                    <div class="rating-10-option" data-value="1">1</div>
                    <div class="rating-10-option" data-value="2">2</div>
                    <div class="rating-10-option" data-value="3">3</div>
                    <div class="rating-10-option" data-value="4">4</div>
                    <div class="rating-10-option" data-value="5">5</div>
                    <div class="rating-10-option" data-value="6">6</div>
                    <div class="rating-10-option" data-value="7">7</div>
                    <div class="rating-10-option" data-value="8">8</div>
                    <div class="rating-10-option" data-value="9">9</div>
                    <div class="rating-10-option" data-value="10">10</div>
                </div>
            </div>
            
            <button id="submit-quick-all">Submit All Reviews</button>
        </div>
        
        <!-- Thank You Message -->
        <div class="thank-you" id="thank-you">
            <h2>Thank You for Visiting!</h2>
            <p>Your feedback has been recorded. We appreciate your time and valuable input!</p>
        </div>
        
        <!-- Admin Section -->
        <div class="admin-section">
            <h3>Admin Access</h3>
            <div class="admin-login">
                <input type="password" id="admin-password" placeholder="Enter admin password">
                <button id="admin-login">Access Reviews</button>
            </div>
            <div class="admin-content" id="admin-content">
                <h4>All Reviews</h4>
                <div class="stats-container" id="stats-container">
                    <!-- Statistics will be displayed here -->
                </div>
                <div class="reviews-list" id="reviews-list">
                    <!-- Reviews will be displayed here -->
                </div>
                <button id="download-reviews" style="margin-top: 15px;">Download Reviews as Text File</button>
                <button id="sync-reviews" style="margin-top: 15px;">Sync with Online Storage</button>
            </div>
        </div>
        
        <footer>
            <p>Class 10A Science Exhibition | All Rights Reserved</p>
        </footer>
    </div>

    <script>
        // Store reviews
        let reviews = [];
        let currentReviewer = "";
        let currentProjectRatings = {};
        let reviewType = ""; // "detailed", "collective", or "quick-all"
        
        // DOM elements
        const reviewerSection = document.getElementById('reviewer-section');
        const thankYouSection = document.getElementById('thank-you');
        const startReviewBtn = document.getElementById('start-review');
        const adminLoginBtn = document.getElementById('admin-login');
        const adminContent = document.getElementById('admin-content');
        const reviewsList = document.getElementById('reviews-list');
        const downloadBtn = document.getElementById('download-reviews');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const detailedReviewBtn = document.getElementById('detailed-review-btn');
        const collectiveReviewBtn = document.getElementById('collective-review-btn');
        const quickAllReviewBtn = document.getElementById('quick-all-review-btn');
        const quickAllReviewSection = document.getElementById('quick-all-review');
        const submitQuickAllBtn = document.getElementById('submit-quick-all');
        const rating10Options = document.querySelectorAll('.rating-10-option');
        const statsContainer = document.getElementById('stats-container');
        const syncReviewsBtn = document.getElementById('sync-reviews');
        
        // Initialize progress
        let currentStep = 0;
        const totalSteps = 10;
        
        // Review type selection
        detailedReviewBtn.addEventListener('click', () => {
            detailedReviewBtn.classList.add('selected');
            collectiveReviewBtn.classList.remove('selected');
            quickAllReviewBtn.classList.remove('selected');
            startReviewBtn.style.display = 'block';
            reviewType = "detailed";
        });
        
        collectiveReviewBtn.addEventListener('click', () => {
            collectiveReviewBtn.classList.add('selected');
            detailedReviewBtn.classList.remove('selected');
            quickAllReviewBtn.classList.remove('selected');
            startReviewBtn.style.display = 'block';
            reviewType = "collective";
        });
        
        quickAllReviewBtn.addEventListener('click', () => {
            quickAllReviewBtn.classList.add('selected');
            detailedReviewBtn.classList.remove('selected');
            collectiveReviewBtn.classList.remove('selected');
            startReviewBtn.style.display = 'block';
            reviewType = "quick-all";
        });
        
        // Start review when name is entered
        startReviewBtn.addEventListener('click', () => {
            const reviewerName = document.getElementById('reviewer-name').value.trim();
            if (reviewerName) {
                currentReviewer = reviewerName;
                reviewerSection.style.display = 'none';
                
                if (reviewType === "quick-all") {
                    quickAllReviewSection.style.display = 'block';
                    updateProgress(1);
                } else {
                    // For other review types, we would show the appropriate section
                    alert('This demo focuses on the new "All Projects at Once" feature. Other review types would be implemented similarly.');
                }
            } else {
                alert('Please enter your name to continue.');
            }
        });
        
        // Handle rating selection in quick all review
        rating10Options.forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all options in this project
                const projectSection = this.closest('.project-quick-rating');
                const siblings = projectSection.querySelectorAll('.rating-10-option');
                siblings.forEach(sib => sib.classList.remove('selected'));
                
                // Add selected class to clicked option
                this.classList.add('selected');
                
                // Store the rating
                const projectName = projectSection.querySelector('.project-quick-name').textContent;
                currentProjectRatings[projectName] = this.getAttribute('data-value');
            });
        });
        
        // Submit quick all review
        submitQuickAllBtn.addEventListener('click', function() {
            // Check if all projects have been rated
            const projectNames = [
                "Smart Irrigation System",
                "Gesture Control Water Gun", 
                "Smart Parking System",
                "River Cleaning Car",
                "Earth Revolution",
                "Carbon Emission to Ink Converter",
                "Rainwater Harvesting",
                "Plasma Canon",
                "Nerve Cell",
                "Cultural and Indigenous Tribes Exhibition"
            ];
            
            let allRated = true;
            for (const project of projectNames) {
                if (!currentProjectRatings[project]) {
                    allRated = false;
                    break;
                }
            }
            
            if (!allRated) {
                alert('Please rate all projects before submitting.');
                return;
            }
            
            // Create review object
            const review = {
                reviewer: currentReviewer,
                timestamp: new Date().toLocaleString(),
                type: "quick-all",
                projects: currentProjectRatings
            };
            
            // Add to reviews array
            reviews.push(review);
            
            // Save to localStorage (simulating online storage)
            localStorage.setItem('exhibitionReviews', JSON.stringify(reviews));
            
            // Hide review section and show thank you
            quickAllReviewSection.style.display = 'none';
            thankYouSection.style.display = 'block';
            updateProgress(10); // All done
            
            // Simulate syncing with online storage
            syncWithOnlineStorage();
        });
        
        // Sync with online storage (simulated)
        function syncWithOnlineStorage() {
            // In a real implementation, this would send data to a server
            // For this demo, we'll just show a message
            alert('Your review has been submitted and synced with the online database!');
        }
        
        // Admin login
        adminLoginBtn.addEventListener('click', () => {
            const password = document.getElementById('admin-password').value;
            if (password === 'best batch') {
                adminContent.style.display = 'block';
                loadReviewsFromStorage();
                displayReviews();
                displayStatistics();
            } else {
                alert('Incorrect password. Please try again.');
            }
        });
        
        // Load reviews from storage
        function loadReviewsFromStorage() {
            // Load reviews from localStorage (simulating online database)
            const storedReviews = localStorage.getItem('exhibitionReviews');
            if (storedReviews) {
                reviews = JSON.parse(storedReviews);
            }
        }
        
        // Display reviews in admin section
        function displayReviews() {
            if (reviews.length === 0) {
                reviewsList.innerHTML = '<p>No reviews yet.</p>';
                return;
            }
            
            let html = '';
            reviews.forEach(review => {
                html += `<div class="review-item">
                    <p><strong>Reviewer:</strong> ${review.reviewer}</p>
                    <p><strong>Date:</strong> ${review.timestamp}</p>
                    <p><strong>Review Type:</strong> ${review.type}</p>`;
                
                for (const [project, rating] of Object.entries(review.projects)) {
                    html += `<p><span class="review-project">${project}:</span> ${rating}/10</p>`;
                }
                
                html += `<hr></div>`;
            });
            
            reviewsList.innerHTML = html;
        }
        
        // Display statistics in admin section
        function displayStatistics() {
            if (reviews.length === 0) {
                statsContainer.innerHTML = '<p>No reviews yet to calculate statistics.</p>';
                return;
            }
            
            // Calculate average ratings for each project
            const projectRatings = {};
            const projectCounts = {};
            
            // Initialize project ratings object
            const projectNames = [
                "Smart Irrigation System",
                "Gesture Control Water Gun", 
                "Smart Parking System",
                "River Cleaning Car",
                "Earth Revolution",
                "Carbon Emission to Ink Converter",
                "Rainwater Harvesting",
                "Plasma Canon",
                "Nerve Cell",
                "Cultural and Indigenous Tribes Exhibition"
            ];
            
            projectNames.forEach(project => {
                projectRatings[project] = 0;
                projectCounts[project] = 0;
            });
            
            // Sum up all ratings
            reviews.forEach(review => {
                for (const [project, rating] of Object.entries(review.projects)) {
                    if (projectRatings.hasOwnProperty(project)) {
                        projectRatings[project] += parseInt(rating);
                        projectCounts[project]++;
                    }
                }
            });
            
            // Calculate averages
            const averages = {};
            let totalAverage = 0;
            let totalProjects = 0;
            
            for (const project of projectNames) {
                if (projectCounts[project] > 0) {
                    averages[project] = (projectRatings[project] / projectCounts[project]).toFixed(2);
                    totalAverage += parseFloat(averages[project]);
                    totalProjects++;
                } else {
                    averages[project] = "No ratings";
                }
            }
            
            const overallAverage = totalProjects > 0 ? (totalAverage / totalProjects).toFixed(2) : "No ratings";
            
            // Display statistics
            let statsHTML = `
                <div class="stat-card">
                    <div class="stat-label">Total Reviews</div>
                    <div class="stat-value">${reviews.length}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Overall Average</div>
                    <div class="stat-value">${overallAverage}</div>
                </div>
            `;
            
            for (const project of projectNames) {
                statsHTML += `
                    <div class="stat-card">
                        <div class="stat-label">${project}</div>
                        <div class="stat-value">${averages[project]}</div>
                    </div>
                `;
            }
            
            statsContainer.innerHTML = statsHTML;
        }
        
        // Download reviews as text file
        downloadBtn.addEventListener('click', () => {
            if (reviews.length === 0) {
                alert('No reviews to download.');
                return;
            }
            
            let textContent = 'CLASS 10A SCIENCE EXHIBITION REVIEWS\n';
            textContent += '=====================================\n\n';
            
            // Calculate averages for the file
            const projectRatings = {};
            const projectCounts = {};
            const projectNames = [
                "Smart Irrigation System",
                "Gesture Control Water Gun", 
                "Smart Parking System",
                "River Cleaning Car",
                "Earth Revolution",
                "Carbon Emission to Ink Converter",
                "Rainwater Harvesting",
                "Plasma Canon",
                "Nerve Cell",
                "Cultural and Indigenous Tribes Exhibition"
            ];
            
            projectNames.forEach(project => {
                projectRatings[project] = 0;
                projectCounts[project] = 0;
            });
            
            reviews.forEach((review, index) => {
                textContent += `REVIEW ${index + 1}\n`;
                textContent += `Reviewer: ${review.reviewer}\n`;
                textContent += `Date: ${review.timestamp}\n`;
                textContent += `Review Type: ${review.type}\n`;
                textContent += `Ratings:\n`;
                
                for (const [project, rating] of Object.entries(review.projects)) {
                    textContent += `  ${project}: ${rating}/10\n`;
                    
                    // Add to averages calculation
                    if (projectRatings.hasOwnProperty(project)) {
                        projectRatings[project] += parseInt(rating);
                        projectCounts[project]++;
                    }
                }
                textContent += `-------------------------------------\n\n`;
            });
            
            // Add averages to the file
            textContent += `\n\nAVERAGE RATINGS\n`;
            textContent += `===============\n\n`;
            
            let totalAverage = 0;
            let totalProjects = 0;
            
            for (const project of projectNames) {
                if (projectCounts[project] > 0) {
                    const average = (projectRatings[project] / projectCounts[project]).toFixed(2);
                    textContent += `${project}: ${average}/10\n`;
                    totalAverage += parseFloat(average);
                    totalProjects++;
                } else {
                    textContent += `${project}: No ratings\n`;
                }
            }
            
            if (totalProjects > 0) {
                textContent += `\nOverall Average: ${(totalAverage / totalProjects).toFixed(2)}/10\n`;
            }
            
            const blob = new Blob([textContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'exhibition_reviews.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
        
        // Sync reviews button
        syncReviewsBtn.addEventListener('click', () => {
            loadReviewsFromStorage();
            displayReviews();
            displayStatistics();
            alert('Reviews synced with online storage!');
        });
        
        // Update progress bar
        function updateProgress(step) {
            currentStep = step;
            const progressPercent = (step / totalSteps) * 100;
            progressBar.style.width = `${progressPercent}%`;
            progressText.textContent = `${step}/${totalSteps}`;
        }
        
        // Initialize by loading any existing reviews
        window.addEventListener('DOMContentLoaded', () => {
            loadReviewsFromStorage();
        });
    </script>
</body>
</html>
